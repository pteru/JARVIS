# SDK Backlog

## Product Features
- [ ] [complex] FEAT-01: Create opener-based EIP connector — EtherNet/IP connector built on top of OpENer. Packaged as reusable library for SpotFusion/VisionKing PLC services.
- [ ] [complex] FEAT-02: Implement advanced logging in observability-stack — Structured log aggregation, dashboards, alerting. Extend sdk-observability-stack with Loki/Grafana or equivalent.
- [ ] [complex] FEAT-03: Implement and deploy Python logging lib — Shared loguru-based logging library with standard setup, formatters, and log levels. Publish as internal pip package.
- [ ] [complex] FEAT-04: Implement and deploy Python RabbitMQ aio-pika lib — Shared aio-pika client library based on visionking-inference patterns (connect_robust, context manager ack/nack, retry loop). Publish as internal pip package.

## Toolkit Consolidation (migrate to SDK, reference as submodules)
- [ ] [complex] TOOL-01: Consolidate PLC tools → sdk-plc-toolkit — Merge SF's 5 PLC tools (plc-recorder, plc-reader-class3, plc-log-parser, plc-record-cleaner, plc-record-plotter) into multi-page Streamlit app or Click CLI. Product-specific IO tables/tag mappings stay in monorepos as config. Benefits all 3 products (DM and VK have plc-monitor services but no toolkit).
- [ ] [complex] TOOL-02: Extract shared deployment framework → sdk-deployment-toolkit — Extract core topology/compose/env models from VK deployment-runner + topology-configurator. Core library: validation, compose generation, env generation, diff, deploy/stop/status. VK keeps CLI wrapper, SF deploy-toolkit keeps Vue wizard wrapper. Shared service catalog (postgres, redis/keydb, rabbitmq) with per-product definitions.
- [ ] [complex] TOOL-03: Merge defect visualization tools → sdk-defect-toolkit — Combine sdk-defect-visualizer (FastAPI DB viewer + overlay) and VK defect-report-toolkit (FastAPI+Vue labeler, heatmap, batch reports). Modules: `viewer` + `reporter`. Shared PostgreSQL data layer (configurable schema), shared image processing, single Docker Compose, add tests.
- [ ] [medium] TOOL-04: Merge Redis tools → sdk-redis-toolkit — Merge sdk-redis-trendline-monitor (Streamlit plots, best UI) + SF redis-recorder (threaded background CSV logging) + SF redis-saver (full DB export/restore). Modules: `monitor`, `recorder`, `backup`. Add configurable key patterns, threshold alerting, optional Prometheus export.
- [ ] [medium] TOOL-05: Consolidate message posting → sdk-message-poster — Merge sdk-message-poster (template-based JSON + FPS/CPU/GPU monitoring) and VK toolkit/message-poster (DB replay + rotating queues + FPS throttling). Two modes: `--mode template|replay`. Use sdk-lib-rabbit-client (aio-pika), Click CLI, env-based config.
- [ ] [medium] TOOL-06: Build comprehensive image toolkit → sdk-image-toolkit — Merge sdk-image-extractor (DB query → images) + VK image-toolkit (GCP upload, OpenCV filtering, classification, parquet) + SF image-analyzer (PostgreSQL spot images, light level histograms). Subcommands: extract, upload, filter, catalog, analyze. Click CLI + optional Streamlit UI. Configurable DB schema.
- [ ] [medium] TOOL-07: Consolidate welding tools → sdk-welding-toolkit — Merge sdk-bos6000-toolkit (Bosch config converter) + SF view-r-extractor (ViewR API client, 60+ endpoints) + SF raft_studies (resistance data analysis, hex→decimal). CLI: `welding bos6000|viewr|raft`. Currently SF-only but ready for cross-product use.
- [x] [complex] TOOL-08: Build weld grouping optimizer → sdk-weld-grouping-optimizer — Import weld positions/normals from Excel + 3D body model (STEP/STL), define camera optical constraints (working distance, FOV, normal deviation, border margin, depth of focus), run set-cover optimization to find minimum camera inspection groups. Multi-camera support, greedy + ILP solvers, JSON/Excel reports, optional 3D visualization. See `plans/strokmatic.sdk.TOOL-08-weld-grouping-optimizer.md`. **Completed 2026-02-18** — Phase A (core geometry + greedy) fully implemented, 30/30 tests passing, CLI operational.
